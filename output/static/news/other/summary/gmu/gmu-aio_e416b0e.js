!function(t,e){function n(t){return""===r?t:(t=t.charAt(0).toUpperCase()+t.substr(1),r+t)}var i=Math,a=[],o=e.createElement("div").style,r=function(){for(var t,e="t,webkitT,MozT,msT,OT".split(","),n=0,i=e.length;i>n;n++)if(t=e[n]+"ransform",t in o)return e[n].substr(0,e[n].length-1);return!1}(),s=r?"-"+r.toLowerCase()+"-":"",c=n("transform"),d=n("transitionProperty"),l=n("transitionDuration"),u=n("transformOrigin"),h=n("transitionTimingFunction"),p=(n("transitionDelay"),/android/gi.test(navigator.appVersion)),f=/hp-tablet/gi.test(navigator.appVersion),m=n("perspective")in o,g="ontouchstart"in t&&!f,v=!!r,w=n("transition")in o,b="onorientationchange"in t?"orientationchange":"resize",_=g?"touchstart":"mousedown",x=g?"touchmove":"mousemove",y=g?"touchend":"mouseup",T=g?"touchcancel":"mouseup",S=function(){if(r===!1)return!1;
var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[r]}(),k=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),E=function(){return t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout
}(),C=m?" translateZ(0)":"",I=function(n,i){var a,o=this;o.wrapper="object"==typeof n?n:e.getElementById(n),o.wrapper.style.overflow="hidden",o.scroller=o.wrapper.children[0],o.translateZ=C,o.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};
for(a in i)o.options[a]=i[a];o.x=o.options.x,o.y=o.options.y,o.options.useTransform=v&&o.options.useTransform,o.options.useTransition=w&&o.options.useTransition,o.scroller.style[d]=o.options.useTransform?s+"transform":"top left",o.scroller.style[l]="0",o.scroller.style[u]="0 0",o.options.useTransition&&(o.scroller.style[h]="cubic-bezier(0.33,0.66,0.66,1)"),o.options.useTransform?o.scroller.style[c]="translate("+o.x+"px,"+o.y+"px)"+C:o.scroller.style.cssText+=";position:absolute;top:"+o.y+"px;left:"+o.x+"px",o.refresh(),o._bind(b,t),o._bind(_),o.options.checkDOMChanges&&(o.checkDOMTime=setInterval(function(){o._checkDOMChanges()
},500))};I.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:!1,handleEvent:function(t){var e=this;switch(t.type){case _:if(!g&&0!==t.button)return;e._start(t);break;case x:e._move(t);break;case y:case T:e._end(t);break;case b:e._resize();break;case S:e._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()
},_resize:function(){var t=this;setTimeout(function(){t.refresh()},p?200:0)},_pos:function(t,e){t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[c]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+C:(t=i.round(t),e=i.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e},_start:function(e){var n,i,a,o=this,r=g?e.touches[0]:e;o.enabled&&(o.options.onBeforeScrollStart&&o.options.onBeforeScrollStart.call(o,e),o.options.useTransition&&o._transitionTime(0),o.moved=!1,o.animating=!1,o.distX=0,o.distY=0,o.absDistX=0,o.absDistY=0,o.dirX=0,o.dirY=0,o.isStopScrollAction=!1,o.options.momentum&&(o.options.useTransform?(n=getComputedStyle(o.scroller,null)[c].replace(/[^0-9\-.,]/g,"").split(","),i=+n[4],a=+n[5]):(i=+getComputedStyle(o.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(o.scroller,null).top.replace(/[^0-9-]/g,"")),(i!=o.x||a!=o.y)&&(o.isStopScrollAction=!0,o.options.useTransition?o._unbind(S):E(o.aniTime),o.steps=[],o._pos(i,a),o.options.onScrollEnd&&o.options.onScrollEnd.call(o))),o.startX=o.x,o.startY=o.y,o.pointX=r.pageX,o.pointY=r.pageY,o.startTime=e.timeStamp||Date.now(),o.options.onScrollStart&&o.options.onScrollStart.call(o,e),o._bind(x,t),o._bind(y,t),o._bind(T,t))
},_move:function(t){var e=this,n=g?t.touches[0]:t,a=n.pageX-e.pointX,o=n.pageY-e.pointY,r=e.x+a,s=e.y+o,c=t.timeStamp||Date.now();e.options.onBeforeScrollMove&&e.options.onBeforeScrollMove.call(e,t),e.pointX=n.pageX,e.pointY=n.pageY,(r>0||r<e.maxScrollX)&&(r=e.options.bounce?e.x+a/2:r>=0||e.maxScrollX>=0?0:e.maxScrollX),(s>e.minScrollY||s<e.maxScrollY)&&(s=e.options.bounce?e.y+o/2:s>=e.minScrollY||e.maxScrollY>=0?e.minScrollY:e.maxScrollY),e.distX+=a,e.distY+=o,e.absDistX=i.abs(e.distX),e.absDistY=i.abs(e.distY),e.absDistX<6&&e.absDistY<6||(e.options.lockDirection&&(e.absDistX>e.absDistY+5?(s=e.y,o=0):e.absDistY>e.absDistX+5&&(r=e.x,a=0)),e.moved=!0,e._beforePos?e._beforePos(s,o)&&e._pos(r,s):e._pos(r,s),e.dirX=a>0?-1:0>a?1:0,e.dirY=o>0?-1:0>o?1:0,c-e.startTime>300&&(e.startTime=c,e.startX=e.x,e.startY=e.y),e.options.onScrollMove&&e.options.onScrollMove.call(e,t))
},_end:function(n){if(!g||0===n.touches.length){var a,o,r,s=this,c=g?n.changedTouches[0]:n,d={dist:0,time:0},l={dist:0,time:0},u=(n.timeStamp||Date.now())-s.startTime,h=s.x,p=s.y;if(s._unbind(x,t),s._unbind(y,t),s._unbind(T,t),s.options.onBeforeScrollEnd&&s.options.onBeforeScrollEnd.call(s,n),!s.moved)return g&&this.options.handleClick&&!s.isStopScrollAction&&(s.doubleTapTimer=setTimeout(function(){for(s.doubleTapTimer=null,a=c.target;1!=a.nodeType;)a=a.parentNode;"SELECT"!=a.tagName&&"INPUT"!=a.tagName&&"TEXTAREA"!=a.tagName&&(o=e.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,n.view,1,c.screenX,c.screenY,c.clientX,c.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),o._fake=!0,a.dispatchEvent(o))
},0)),s._resetPos(400),void(s.options.onTouchEnd&&s.options.onTouchEnd.call(s,n));if(300>u&&s.options.momentum&&(d=h?s._momentum(h-s.startX,u,-s.x,s.scrollerW-s.wrapperW+s.x,s.options.bounce?s.wrapperW:0):d,l=p?s._momentum(p-s.startY,u,-s.y,s.maxScrollY<0?s.scrollerH-s.wrapperH+s.y-s.minScrollY:0,s.options.bounce?s.wrapperH:0):l,h=s.x+d.dist,p=s.y+l.dist,(s.x>0&&h>0||s.x<s.maxScrollX&&h<s.maxScrollX)&&(d={dist:0,time:0}),(s.y>s.minScrollY&&p>s.minScrollY||s.y<s.maxScrollY&&p<s.maxScrollY)&&(l={dist:0,time:0})),d.dist||l.dist)return r=i.max(i.max(d.time,l.time),10),s.scrollTo(i.round(h),i.round(p),r),void(s.options.onTouchEnd&&s.options.onTouchEnd.call(s,n));
s._resetPos(200),s.options.onTouchEnd&&s.options.onTouchEnd.call(s,n)}},_resetPos:function(t){var e=this,n=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,i=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return n==e.x&&i==e.y?void(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e),e._afterPos&&e._afterPos())):void e.scrollTo(n,i,t||0)},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(S),e._startAni())},_startAni:function(){var t,e,n,a=this,o=a.x,r=a.y,s=Date.now();
if(!a.animating){if(!a.steps.length)return void a._resetPos(400);if(t=a.steps.shift(),t.x==o&&t.y==r&&(t.time=0),a.animating=!0,a.moved=!0,a.options.useTransition)return a._transitionTime(t.time),a._pos(t.x,t.y),a.animating=!1,void(t.time?a._bind(S):a._resetPos(0));(n=function(){var c,d,l=Date.now();return l>=s+t.time?(a._pos(t.x,t.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),void a._startAni()):(l=(l-s)/t.time-1,e=i.sqrt(1-l*l),c=(t.x-o)*e+o,d=(t.y-r)*e+r,a._pos(c,d),void(a.animating&&(a.aniTime=k(n))))
})()}},_transitionTime:function(t){t+="ms",this.scroller.style[l]=t},_momentum:function(t,e,n,a,o){var r=6e-4,s=i.abs(t)*(this.options.speedScale||1)/e,c=s*s/(2*r),d=0,l=0;return t>0&&c>n?(l=o/(6/(c/s*r)),n+=l,s=s*n/c,c=n):0>t&&c>a&&(l=o/(6/(c/s*r)),a+=l,s=s*a/c,c=a),c*=0>t?-1:1,d=s/r,{dist:c,time:i.round(d)}},_offset:function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,n*=this.scale),{left:e,top:n}},_bind:function(t,e,n){a.concat([e||this.scroller,t,this]),(e||this.scroller).addEventListener(t,this,!!n)
},_unbind:function(t,e,n){(e||this.scroller).removeEventListener(t,this,!!n)},destroy:function(){var n=this;n.scroller.style[c]="",n._unbind(b,t),n._unbind(_),n._unbind(x,t),n._unbind(y,t),n._unbind(T,t),n.options.useTransition&&n._unbind(S),n.options.checkDOMChanges&&clearInterval(n.checkDOMTime),n.options.onDestroy&&n.options.onDestroy.call(n);for(var i=0,o=a.length;o>i;)a[i].removeEventListener(a[i+1],a[i+2]),a[i]=null,i+=3;a=[];var r=e.createElement("div");r.appendChild(this.wrapper),r.innerHTML="",n.wrapper=n.scroller=r=null
},refresh:function(){var t,e=this;e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=i.round(e.scroller.offsetWidth*e.scale),e.scrollerH=i.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top,e.scroller.style[l]="0",e._resetPos(400)
},scrollTo:function(t,e,n,i){var a,o,r=this,s=t;for(r.stop(),s.length||(s=[{x:t,y:e,time:n,relative:i}]),a=0,o=s.length;o>a;a++)s[a].relative&&(s[a].x=r.x-s[a].x,s[a].y=r.y-s[a].y),r.steps.push({x:s[a].x,y:s[a].y,time:s[a].time||0});r._startAni()},scrollToElement:function(t,e){var n,a=this;t=t.nodeType?t:a.scroller.querySelector(t),t&&(n=a._offset(t),n.left+=a.wrapperOffsetLeft,n.top+=a.wrapperOffsetTop,n.left=n.left>0?0:n.left<a.maxScrollX?a.maxScrollX:n.left,n.top=n.top>a.minScrollY?a.minScrollY:n.top<a.maxScrollY?a.maxScrollY:n.top,e=void 0===e?i.max(2*i.abs(n.left),2*i.abs(n.top)):e,a.scrollTo(n.left,n.top,e))
},scrollToPage:function(t,e,n){var i,a,o=this;n=void 0===n?400:n,o.options.onScrollStart&&o.options.onScrollStart.call(o),i=-o.wrapperW*t,a=-o.wrapperH*e,i<o.maxScrollX&&(i=o.maxScrollX),a<o.maxScrollY&&(a=o.maxScrollY),o.scrollTo(i,a,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(x,t),this._unbind(y,t),this._unbind(T,t)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(S):E(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1
},isReady:function(){return!this.moved&&!this.animating}},o=null,"undefined"!=typeof exports?exports.iScroll=I:t.iScroll=I,function(e){function n(t,e){var n="iscroll"+a++;return t.data("_iscroll_",n),o[n]=new i(t[0],e)}if(e){var i=I,a=0,o={};t.iScroll=function(t,i){return n(e("string"==typeof t?"#"+t:t),i)},e.fn.iScroll=function(t){var i=[];return this.each(function(a,r){if("string"==typeof t){var s,c=o[e(r).data("_iscroll_")];if(c&&(s=c[t])){var d=e.isFunction(s)?s.apply(c,Array.prototype.slice.call(arguments,1)):s;
d!==c&&void 0!==d&&i.push(d)}}else e(r).data("_iscroll_")||n(e(r),t)}),i.length?i:this}}}(t.Zepto||null)}(window,document),!function(t){function e(e,n,i){switch(i){case"attach":t.extend(e,n);break;case"delegate":t.each(n,function(n,i){void 0===e[n]&&(e[n]=function(){var e=t.slice(arguments);e.unshift(this.widget()),i.apply(this,e)})})}}function n(e){for(var n,i=t.ui[e]||{},a=t.slice(arguments,1),o=0;n=i[a[o]];)i=n,o++;return a[o]?n:i}function i(e){var i,a,o,r=/require\(\s*['"]?([^'")]*)/g,s=[];if(t.isPlainObject(e))return e;
if(t.isFunction(e)){for(i=e.toString();a=r.exec(i);)(o=a[1])&&!t.ui[o]&&s.push("$.ui."+o);if(s.length)throw"undefined modules: "+s.join(", ");return e(n)}throw"type error: factory should be function or object"}var a=[];t.ui=t.ui||{version:"1.0.4",defineProperty:Object.defineProperty,create:function(n,i,o){o||(o=i,i=t.ui.widget);var r=[],s=new i,c=/\b_super\b/,d=s.__proto__,l=function(n){if(n){var i=this,o=t.slice(arguments);t.each(r,function(n,o){var r,s=o.split("."),o=a[s.shift()]||{},c={};t.each(s,function(t,e){r=e,o=o[r]
}),o&&(r?c[r]=o:c=o),e(i,c,"delegate")}),i._createWidget.apply(i,o)}};return t.ui[n]=function(t,e){return new l(t,e)},l.prototype=t.extend(s,{widgetName:n,widgetBaseClass:s.widgetName||i},t.each(o,function(e,n){t.isFunction(n)&&t.isFunction(d[e])&&c.test(n.toString())&&(o[e]=function(){this._super=d[e];var t=n.apply(this,arguments);return delete this._super,t})})),{attach:function(e){r=r.concat(t.isArray(e)?e:e.split(","))}}},define:function(e,n){try{n||(n=e,e="_privateModule");var o=t.ui[e]||(t.ui[e]={}),r=i(n);
a[e]=t.extend(o,r)}catch(s){throw new Error(s)}}}}(Zepto),!function(t,e){t.ui.define("ex",function(){var n={},i=Object.prototype.toString;t.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()}),t.implement=function(n,i,a){var o=t.isObject(i)?i:i?t:t.fn;return t.each(n,function(t,n){var i=o[t];(i==e||!i.$ex||a)&&(n.$ex=!0,o[t]=n)}),t};var a=navigator.userAgent,o=navigator.appVersion,r=t.browser;t.implement({android:t.os.android||/HTC/.test(a)},t.os,!0),t.implement({qq:/qq/i.test(a),chrome:/chrome/i.test(a)||/CriOS/i.test(a),uc:/UC/i.test(a)||/UC/i.test(o)},t.browser,!0),t.browser.uc=t.browser.uc||!t.browser.qq&&!t.browser.chrome&&!/safari/i.test(a);
try{t.browser.version=r.uc?o.match(/UC(?:Browser)?\/([\d.]+)/)[1]:r.qq?a.match(/MQQBrowser\/([\d.]+)/)[1]:r.chrome?a.match(/(?:CriOS|Chrome)\/([\d.]+)/)[1]:r.version}catch(s){}t.support=t.support||{},t.extend(t.support,{orientation:!t.browser.uc&&"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix}),t.implement({_guid:0,emptyFn:function(){},type:function(t){return null==t?String(t):n[i.call(t)]||"object"
},isNull:function(t){return null===t},isUndefined:function(t){return t===e},slice:function(t,e){return Array.prototype.slice.call(t,e||0)},bind:function(e,n,i){return function(){e.apply(n,(i||[]).concat(t.slice(arguments)))}},guid:function(){return this._guid++},later:function(t,e,n,i,a){var e=e||0,o=function(){t.apply(i,a)};return n?setInterval(o,e):setTimeout(o,e)},alert:function(){var t=!1;return function(e,n){t||(window.alert(e),n&&(t=!0))}}(),parseTpl:function(t,e){var n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"
}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",n);return e?i(e):i},loadFile:function(e,n,i){var a,o,r=/\.css(?:\?|$)/i.test(e),s=document.head||document.getElementsByTagName("head")[0],c=document.createElement(r?"link":"script"),n=n||t.emptyFn;r?(c.rel="stylesheet",c.href=e,s.appendChild(c)):(o=function(){n(),clearTimeout(a)
},a=setTimeout(function(){throw o(),new Error("failed to load js file:"+e)},i||50),c.addEventListener("load",o,!1),c.async=!0,c.src=e,s.insertBefore(c,s.firstChild))},throttle:function(n,i,a){function o(){function t(){s=Date.now(),i.apply(c,l)}function o(){r=e}var c=this,d=Date.now()-s,l=arguments;a&&!r&&t(),r&&clearTimeout(r),a===e&&d>n?t():r=setTimeout(a?o:t,a===e?n-d:n)}var r,s=0;return"function"!=typeof i&&(a=i,i=n,n=250),o._zid=i._zid=i._zid||t.proxy(i)._zid,o},debounce:function(n,i,a){return i===e?t.throttle(250,n,!1):t.throttle(n,i,a!==!1)
}},!0);var c=t.fn.on,d=t.fn.off,l=t.fn.trigger,u={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove",tap:"click"},h=function(t){var e=[];return(t||"").split(" ").forEach(function(t){e.push("ontouchstart"in window?t:u[t]?u[t]:t)}),e.join(" ")};t.implement({on:function(t,e,n){return c.call(this,h(t),e,n)},off:function(t,e,n){return d.call(this,h(t),e,n)},offset:function(t){if(0==this.length)return null;var e="getBoundingClientRect"in this[0]?this[0].getBoundingClientRect():function(t){for(var e=t.offsetTop,n=t.offsetLeft,i=t.offsetWidth,a=t.offsetHeight;t.offsetParent;)t=t.offsetParent,e+=t.offsetTop,n+=t.offsetLeft;
return e-=window.pageYOffset,n-=window.pageXOffset,{top:e,left:n,right:n+i,bottom:e+a,width:i,height:a}}(this[0]);return{left:e.left+(t?0:window.pageXOffset),top:e.top+(t?0:window.pageYOffset),width:e.width,height:e.height,right:e.right+(t?0:window.pageXOffset),bottom:e.bottom+(t?0:window.pageYOffset)}},trigger:function(e){var n=t.slice(arguments);if(t.fn.trigger.caller){var a,o=t.fn.trigger.caller.arguments;"string"==t.type(e)&&(n[0]=t.Event(e)),o&&(a=o[0])&&/Event\]$/i.test(i.call(a))&&t.inArray(n[0].type,["tap","singleTap","doubleTap","swipe","swipeLeft","swipeRight","swipeUp","swipeDown "])>-1&&(n[0].originalEvent=a)
}return l.apply(this,n)}},!1,!0),t(document).ready(function(){var e,n=function(){var t=document.documentElement;return t.clientWidth/t.clientHeight<1.1?"portrait":"landscape"},i=n(),a=function(){clearInterval(e),e=t.later(function(){var a=n();i!==a&&(i=a,clearInterval(e),t(window).trigger("ortchange"))},50,!0)};t.support.orientation?t(window).bind("orientationchange",t.debounce(a)):t(window).bind("resize",t.debounce(a))})})}(Zepto),function(t){t.implement({highlight:function(e){return this.each(function(){var n,i=t(this);
i.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").on("touchstart touchend touchmove",function(a){if(i[0].contains(a.target))switch(a.type){case"mousedown":case"touchstart":n=t.later(function(){i.addClass(e)},100);break;case"touchend":case"mouseup":case"touchmove":case"mousemove":clearTimeout(n),i.removeClass(e)}})})},behavior:function(){return this.highlight.apply(this,arguments)}},!1,!0),t(window).on("scroll",t.debounce(0,function(){t(document).trigger("scrollStop")},!1))}(Zepto),!function(t){t.ui.define("control",function(){var e=t.os,n=parseFloat(e.version),i=!n,a=e.ios,o=(e.android,/htc_sensation_z710e/i.test(navigator.userAgent)),r={};
return r.fix=function(e,r){var s=t(e),e=s.get(0),c=navigator.userAgent,d=/Linux/i.test(c)||t.os.ios&&!/safari/i.test(c)&&!/qq/i.test(c),l=t.extend({zIndex:999},r||{}),u=r.bottom?-1*r.bottom:r.top||0;return!(i||a&&n>=5)||o||d?(l.position="absolute",s.css(l),void(e.isFixed||(e.isFixed=!0,t(document).on("scrollStop",function(){s.css("top",window.pageYOffset+(r.bottom?window.innerHeight-s.height():0)+u+"px")})))):(s.css("position","fixed").css(l),!e.isFixed&&t.browser.qq&&t(document).on("scrollStop",function(){s.css("top",Math.max(-45,-window.pageYOffset)+"px")
}),void(e.isFixed=!0))},r.setFloat=function(e){var n=t(e),i=n.clone().css({opacity:0,display:"none"}).attr("id",""),a=!1,o={},s=n.css("position")||"static",c=function(){r.fix(n,{x:0,y:0}),i.css("display","block"),a=!0},d=function(){n.css("position",s),i.css("display","none"),a=!1},l=function(t){var e=i.get(0).getBoundingClientRect().top||n.get(0).getBoundingClientRect().top,t=t||0+e;0>t&&!a?c():t>0&&a&&d()};n.after(i),t(document).on("touchstart",function(t){o.y=t.touches[0].pageY}).on("touchmove",function(t){var e=t.touches[0].pageY-o.y;
o.y=t.touches[0].pageY,l(e)}),t(window).on("scroll",function(){l()})},r})}(Zepto),!function(t,e){t.ui.create("widget",function(){},{_createWidget:function(n,i){var a=this;t.isPlainObject(n)&&(i=n||{},n=e),t.extend(a,{_element:n&&t(n),_data:t.extend({status:!0,plugins:{}},a._data,i)}),a._create(),a._init(),a.widget().on("touchstart touchend tap",function(t){(t.bubblesList||(t.bubblesList=[])).push(a)})},_create:function(){},_init:function(){},destroy:function(){var e,n=this;t.each(n.data("plugins"),function(t,e){e.destroy()
}),e=n.trigger("destroy").off().widget(),e.find("*").off(),e.off().remove(),n.__proto__=null,t.each(Object.keys?Object.keys(n):n,function(t,e){delete n[e]})},data:function(n,i){var a=this._data;return t.isPlainObject(n)?t.extend(a,n):i!==e?a[n]=i:a[n]},widget:function(t){return this._element=t||this._element},component:function(n,i){var a=this,o=a.data("plugins");try{t.isFunction(i)?o[n]=i.apply(a):i!==e&&(o[n]&&o[n].destroy(),delete o[n])}catch(r){}return o[n]},on:function(t,e,n){var i=this,a=t.toLowerCase(),o=i._callbacks||(i._callbacks={}),r=o[a]||(o[a]=[]);
return r.push([e,n]),i},off:function(t,e){var n,i=this;if(t){if(n=i._callbacks)if(t=t.toLowerCase(),e){var a=n[t];if(!a)return i;for(var o=0,r=a.length;r>o;o++)if(a[o]&&e===a[o][0]){a[o]=null;break}}else n[t]=[]}else i._callbacks={};return i},trigger:function(e){var n,i,a,o=this,e=e.toLowerCase(),r=o.data("on"+e),s=t.slice(arguments,1);if(r&&r.apply(o,s),!e||!(i=o._callbacks))return o;if(n=i[e])for(var c=0,d=n.length;d>c;c++)a=n[c],a[0].apply(a[1]||o,s);return o}}),t(document).ready(function(){t(document).trigger("pageInit")
})}(Zepto),!function(t){t.ui.create("add2desktop",{_data:{icon:"../../add2desktop/icon.png"},_create:function(){var e=this,n=(e.widget()||e.widget(t("<div></div>"))).addClass("ui-add2desktop").css("display","none"),i=t(e.data("container")||document.body),a=(t.os.ios&&t.os.version.substr(0,3))>4.1?"ui-add2desktop-new":"ui-add2desktop-old",o='<div class="ui-add2desktop-shadowbox"></div><div class="ui-add2desktop-content"><div class="ui-add2desktop-type"><img src="'+e.data("icon")+'"/></div><div class="ui-add2desktop-text">先点击<span class="'+a+'"></span>，<br>再"添加至主屏幕"</div><a href="javascript:;" class="ui-add2desktop-close"><span class="ui-add2desktop-close-btn"></span></a>';
n.html(o).parent().length||n.appendTo(i),e.trigger("create")},_init:function(){var e=this,n=t.os,i=parseFloat(n.version),a=!i,o=n.ios,r=n.android,s=navigator.userAgent,c=e.data("isUC",/Linux/i.test(s)||t.os.ios&&!/safari/i.test(s)&&!/qq/i.test(s)),d=e.data("rotateEV","ortchange");t(".ui-add2desktop-close").on("tap",function(t){e.hide(),(t.originalEvent||t).preventDefault()}),e.data("_winfun",function(){e._setpos()}),t(window).on(d+" scrollStop",e.data("_winfun")),e.widget().css("position",e.data("useFixed",a||o&&i>=5&&!c||r)?"fixed":"absolute"),t(function(){t.later(function(){e.data("available",!0),e._setpos().trigger("init")
},200)})},_setpos:function(){var e=this,n=e.widget();return!e.data("useFixed")&&n.css("top",window.pageYOffset+t(window).height()-85),e.trigger("setpos")},hide:function(){var e=this;return t.later(function(){e.widget().css({display:"none",zIndex:-1,left:-9999}),e.trigger("close")},20),e},show:function(){var e=this;if(t.os.ios){if(!e.data("available"))return t.later(t.bind(e.show,e),20),e;e.widget().css({display:"block",opacity:0}).animate({opacity:1},{duration:100,ease:"ease-in",complete:function(){e.trigger("open")
}})}return e},destroy:function(){var e=this;t(window).off(e.data("rotateEV")+" scrollStop",e.data("_winfun")),t(".ui-add2desktop-close",e.widget()).off().remove(),e.widget().html(""),e._super()}}).attach("control.fix")}(Zepto),!function(t,e){t.ui.create("dialog",{_data:{width:300,mask:!0,closeBtn:!0},_create:function(){var e=this,n=t(e.data("container")||document.body),i=(e.widget()||e.widget(t("<div></div>"))).css({width:e.data("width"),height:e.data("height")}).addClass("ui-dialog");e.data("cls")&&i.addClass(e.data("cls")),e.data("title")&&e.data("titleElem",t('<div class="ui-dialog-title"><div class="titleText">'+e.data("title")+"</div></div>")).appendTo(i),e.data("contentElem",t('<div class="ui-dialog-content"><div class="contentHtml">'+e.data("content")+"</div></div>")).appendTo(i),e.data("closeBtn")&&(e.data("titleElem")||e.data("contentElem")).append('<div class="ui-dialog-close">×</div>'),e.data("maskElem",t('<div class="ui-mask"></div>')).appendTo(n),i.appendTo(n),e.trigger("create")
},_init:function(){var e=this,n=e.widget(),i=t.bind(e._eventHandler,e);n.on("touchmove click",i),t(window).on("ortchange",i),e.data("maskElem").on("touchmove tap",i),e.on("destroy",function(){e.data("maskElem").off(),t(window).off("ortchange",i)}).trigger("init")},_eventHandler:function(t){var e=this,n=t.target;if(e.data("status"))switch(t.type){case"touchmove":t.preventDefault();break;case"tap":case"click":"ui-dialog-close"==n.className||"×"==n.nodeValue?e.hide():"ui-mask"==n.className&&e.trigger("maskClick");
break;case"ortchange":e._resize(t)}},_resize:function(){var e=this,n=e.data("maskElem"),i=document.body,a=t.browser.uc?1:0;"block"==n.css("display")&&n.css({width:i.clientWidth,height:Math.max(i.scrollHeight,i.clientHeight)-a}),e.trigger("resize")},title:function(t){var n=this.data("titleElem").find(".titleText");return t!=e&&(n.html(t),this.trigger("resize")),n.html()},content:function(t){var n=this.data("contentElem").find(".contentHtml");return t!=e&&(n.html(t),this.trigger("resize")),n.html()
},_center:function(){var e=this,n=e.widget(),i=t(window);return n.css({left:i.width()/2,top:i.height()/2+window.pageYOffset,marginTop:-n.height()/2,marginLeft:-n.width()/2}),e.on("resize",function(){t.later(function(){n.css({left:i.width()/2,top:i.height()/2+window.pageYOffset})},10)}),e},show:function(t,n){var i=this,a=i.widget(),o=document.body,r={left:t||0,top:n||0};return a.css("display","block"),i.data("mask")&&i.data("maskElem").css({display:"block",width:o.clientWidth,height:Math.max(o.scrollHeight,o.clientHeight)}),t==e?i._center():a.css(r),i
},hide:function(t){var e=this;return e.widget().css("display","none"),e.data("maskElem").css("display","none"),e.trigger("close"),t&&e.destroy(),e},close:function(){this.hide(!0)},destroy:function(){var t=this;t.data("maskElem").remove(),t._super()}}).attach("control.fix")}(Zepto),!function(t){t.ui.create("dropmenu",{_data:{content:[],container:"",mode:"default",offset:0,instanceId:"",hasArrow:!1,position:"default",callback:"",isScroll:!1},_create:function(){var e=this,n=e.data("instanceId"),i=t(e.data("container")||document.body),a=e.widget(),o=a||e.widget(t('<div class="ui-dropmenu"></div>')),r=e.data("arrow",t('<span class="ui-dropmenu-arrow"></span>')),s=e.data("title",t('<span class="ui-dropmenu-title">'+e.data("content")[0].text+"</span>")),c=e.data("button",t('<div class="ui-dropmenu-button"></div>')),d=e.data("menu",t('<div class="ui-dropmenu-content"></div>'));
if(e.data("uiArrow",t('<span class="ui-dropmenu-content-arrow"></div>')).appendTo(d),!a&&n&&o.addClass(n),c.append(s),o.css("position","relative").append(c),o.append(d),d.css("visibility","hidden"),e._createmenu(),e.data("hasArrow")&&c.append(r),o.parent().get(0)||o.appendTo(i),"horizontal"==e.data("position")){var l=e.data("items"),u=l.children(),h=0;l.addClass("horizontal"),t.each(t(u),function(e,n){h+=t(n).offset().width}),l.css({"float":"left"}),l.parent().css("width",h+"px"),e.data("isScroll")&&t(".scrollBox",d).css("height",l.offset().height+"px")
}e._setOffset(),d.css("visibility","visible"),d.hide(),e.trigger("create")},_init:function(){var e=this,n=e.data("button"),i=e.data("menu"),a=e.data("arrow"),o=(e.data("title"),e.data("content")),r=(o.length,e.data("items")),s=r.children();e.data("callback"),e.widget(),e.data("menuOffset",i.offset()),n.on("touchstart",function(){a&&a.toggleClass("ui-dropmenu-arrow-on"),e.setOffset(),i.toggle(),e._resetScroll()}),e.data("isScroll")||s.on("touchstart",function(t){setTimeout(function(){e._menuEvent(t)
},100)});var c=t.bind(e._eventHandler,e);t(window).on("resize",c),t(document).on("touchstart",c),e.data("isScroll")&&t(document).on("DOMContentLoaded",c),e.on("destroy",function(){t(window).off("resize",c),t(document).off("touchstart",c),t(document).off("DOMContentLoaded",c)}),e.trigger("init")},_eventHandler:function(t){var e=this;switch(t.type){case"resize":setTimeout(function(t){e.setOffset(t)},300);break;case"click":case"touchstart":e._isClose(t);break;case"DOMContentLoaded":setTimeout(e.data("scroll"),200)
}},_isClose:function(t){var e=this,n=t.bubblesList;n&&-1!=n.indexOf(e)||e.hide()},_menuEvent:function(e){var n=this,i=t(e.target),a=n.data("index"),o=n.data("title"),r=o.html(),s=n.data("callback"),c=n.data("mode"),d=n.data("content"),l=d.length,u=n.data("items"),h=n.data("arrow"),p=n.data("menu"),f=u.children();i=i.closest("li");var m=i.index();m=l-1>m?m:l-1,d[m].callback?d[m].callback(m,i,n):t.isFunction(s)&&s(m,i,n),"selected"==c&&(i.hide(),o.html(i.html()),0==a?f.first().html(r).show():t(f.get(a)).show(),h&&h.toggleClass("ui-dropmenu-arrow-on"),p.hide(),n.trigger("select")),n.data("index",i.index())
},_createmenu:function(){var e=this,n=e.data("content"),i=e.data("menu"),a=[],o=e.data("items",t('<ul class="ui-dropmenu-items"></ul>'));t.each(n,function(t){var e=n[t].className?'class="'+n[t].className+'"':"";t>0&&a.push("<li "+e+">"+n[t].text+"</li>")}),e.data("index",0),e.data("length",a.length),e.data("isScroll")?(i.append('<div class="scrollBox"><div class="scroller"></div></div>'),t(".scroller",i).append(o)):i.append(o),o.html('<li style="display:none;"></li>'+a.join(""))},_scroll:function(){var e=this,n=t(".scrollBox",e.data("menu")).get(0),i="horizontal"==e.data("position")?!0:!1,a="horizontal"!=e.data("position")?!0:!1,o=new iScroll(n,{hScroll:i,vScroll:a,onTouchEnd:function(t){this.moved||this.absDistY||e._menuEvent(t)
}});e.data("scroll",o)},show:function(){var t=this,e=t.data("arrow");return t.setOffset(),t.data("menu").show(),e&&e.addClass("ui-dropmenu-arrow-on"),t._resetScroll(),t.trigger("show"),t},hide:function(){var t=this,e=t.data("arrow");return t.data("menu").hide(),e&&e.removeClass("ui-dropmenu-arrow-on"),t.trigger("hide"),t},_setOffset:function(){var t=this,e=t.data("menu"),n=t.data("uiArrow"),i=document.body.clientWidth,a=document.documentElement.clientHeight,o=document.body.offsetHeight,r=a>o?a:o,s=t.data("offset"),c=s.x?s.x:0,d=s.y?s.y:s,s=t.data("button").offset(),l=e.offset();
e.css("top",s.height-1+d+"px"),n.css({left:l.width/2-6+"px",top:"-7px"}).removeClass("ui-dropmenu-content-arrowbottom"),e.css("left",-(l.width-s.width)/2+c+"px"),s.left<l.width/2?(e.css("left",0+c+"px"),n.css("left",s.width/2-6+"px")):i-s.width-s.left<(l.width-s.width)/2&&(e.css("left",-(l.width-s.width)+c+"px"),n.css("left",l.width-s.width/2-6+"px")),r-s.height-s.top-d<l.height&&(e.css("top",-(l.height-1+d)+"px"),n.css("top",l.height-1+"px").addClass("ui-dropmenu-content-arrowbottom")),t._resetScroll()
},_resetScroll:function(){var t=this;!t.data("scroll")&&t.data("isScroll")?t._scroll():t.data("scroll")&&t.data("scroll").refresh()},setOffset:function(){var t=this,e=!1,n=t.data("menu");return"none"==n.css("display")&&(n.css("visibility","hidden").show(),e=!0),t._setOffset(),e&&n.hide().css("visibility","visible"),t},destroy:function(){var t=this;t.widget().off(),t.data("scroll")&&t.data("scroll").destroy(),t._super()}})}(Zepto),!function(t,e){t.ui.create("gotop",{_data:{useAnim:!0,afterScroll:function(){},touchendHandler:function(){}},_create:function(){var n=this,i=n.widget(),a=t(n.data("container")||document.body);
i==e&&(i=n.widget(t('<div class="ui-gotop"></div>'))),!i.hasClass("ui-gotop")&&i.addClass("ui-gotop"),i.html("<span>&nbsp;</span>"),(n.data("container")||!i.parent().length)&&i.appendTo(a),n.trigger("create").data("container",a)},_init:function(){var e=this,n=t.bind(e._eventHandler,e);e.data("_eventHandler",n),t.os.android&&2.1==parseFloat(t.os.version).toFixed(1)&&t(document).on("touchstart",n),t(document).on("touchmove mousewheel scrollStop",n),t(window).on("scroll",n),e.widget().on("click",n),e.on("destroy",function(){e.widget().off("click",n),t(document).off("touchmove touchend mousewheel scrollStop",n),t(window).off("scroll",n),t.os.android&&2.1==parseFloat(t.os.version).toFixed(1)&&t(document).off("touchstart",n)
}).trigger("init")},_scrollTo:function(){var e,n=this,i=window.pageYOffset,a=n.data("node")?t(n.data("node")).offset().top:0;return n.data("useAnim")?n.hide().trigger("goTop",e=t.later(function(){if(i>a){i-=100;var t=100>i-a?a:i;window.scrollTo(0,t)}else clearInterval(e)},16,!0)):(window.scrollTo(0,a||1),n.hide().trigger("goTop"))},show:function(t){var e=this,n=e.widget();return e.data("isShow")!==!0&&(n.css({display:"block",visibility:"visible"}),e.data("isShow",!0)),n.css(t||{}),e},hide:function(){var t=this;
return t.data("isShow")&&(t.widget().css("display","none"),t.data("isShow",!1)),t},_touchEndHandle:function(e){this.data("touchendHandler")&&this.data("touchendHandler").apply(this,[e])===!1||(window.pageYOffset>t(window).height()?this.show():this.hide())},_touchMoveHandle:function(e){var n=this;t.os.android&&2.1==parseFloat(t.os.version).toFixed(1)?(n.data("moveY",e.touches[0].pageY),Math.abs(n.data("moveY")-n.data("startY"))<30&&(t(e.target).hasClass("ui-gotop")||t(e.target).parent().hasClass("ui-gotop"))?t.later(function(){n._scrollTo().hide().data("afterScroll")&&n.data("afterScroll").apply(n)
},400):n.hide()):n.hide()},_eventHandler:function(t){var e=this;switch(t.type){case"touchstart":e.data("startY",t.touches[0].pageY);break;case"touchmove":clearTimeout(e.data("_touchended")),e.data("_touchended",setTimeout(function(){e._touchEndHandle.call(e,t)},300)),e._touchMoveHandle(t);break;case"click":e._scrollTo().hide().data("afterScroll")&&e.data("afterScroll").apply(this);break;case"scroll":clearTimeout(e.data("_touchended"));break;case"mousewheel":case"scrollStop":e._touchEndHandle(t)}},destroy:function(){var e=this;
e.widget().off("click",e.data("_eventHandler")),t(document).off("touchmove mousewheel scrollStop",e.data("_eventHandler")),t.os.android&&2.1==parseFloat(t.os.version).toFixed(1)&&t(document).off("touchstart",e.data("_eventHandler")),e._super()}}).attach("control.fix"),t(document).on("pageInit",function(){})}(Zepto),!function(t,e){t.ui.create("more",{_data:{container:"",content:[],count:5,isShow:!1},_create:function(){var n=this,i=n.widget(),a=[],o=[],r=[],s=t(n.data("container")||document.body)[0],c=n.data("content").concat(),d=n.data("count"),l=parseInt(100/d);
if(t.isArray(c)&&!(c.length<1)){for(;c.length>d;)r.push(c.splice(0,d));c.length&&r.push(c),i==e&&(i=n.widget(t('<div class="ui-more"></div>'))),i.hasClass("ui-more")||i.addClass("ui-more"),o.push('<div class="ui-more-arrow"></div>'),r.forEach(function(t){a=['<div class="ui-more-links">'],t.forEach(function(t,e){var n="width:"+l+"%;"+(e==d-1?"-webkit-box-flex:1":""),i=t.key||"word";a.push('<a href="'+t.url+'" class="ui-more-link" data-key="'+i+'" style="'+n+'"><span>'+t.text+"</span></a>")}),a.push("</div>"),o.push(a.join(""))
}),i.html(o.join("")),i.parent().length&&!n.data("container")||i.parent().length||i.appendTo(s),n.trigger("create")}},_init:function(){var t=this,e=t.widget();t.data("isShow")||e.hide(),t.trigger("init")},show:function(){var t=this,e=t.widget();return t.data("isShow",!0),e.show(),t.trigger("aftershow"),t},hide:function(){var t=this,e=t.widget();return t.data("isShow",""),e.hide(),t.trigger("afterhide"),t}})}(Zepto),!function(t,e){t.ui.create("refresh",{_data:{container:"",instanceId:"",pullUpText:"加载更多",pullReleaseText:"松开立即加载",loadingText:"加载中...",clickText:"点击加载更多",type:"click",direction:"up",isShow:!0,onReady:null},_create:function(){var t=this;
t._createButtonUI(),t.trigger("create")},_init:function(){var e=this,n=e.data("type"),i=e.widget();-1!=t.inArray(e.data("type"),["click","pullup"])&&(e.data({range:150,_isOk:!0,refreshing:!1,list:i.parent().parent(),maxHeight:i.parent().parent().height()||200,maxTop:parseInt(i.parent().parent().get(0).getBoundingClientRect().top)}),"click"==n?e._clickAction():e._pullUpAction(),e.data("isShow")||i.hide(),e.trigger("init"))},_createButtonUI:function(){var e=this,n=e.widget(),i=[],a=e.data("direction"),o=t(e.data("container")||document.body)[0];
-1==t.inArray(e.data("direction"),["up","down"])&&(a="up"),n||(n=e.widget(t("<div></div>")).appendTo(o)),i.push('<span class="ui-refresh-pullup-icon"></span>'),i.push('<span class="ui-refresh-pullup-label">'+e.data("pullup"==e.data("type")?"pullUpText":"clickText")+"</span>"),n.html(i.join("")),n.parent().length?o!==document.body&&("up"==a?n.appendTo(o):n.prependTo(o)):"up"==a?n.appendTo(o):n.prependTo(o),e.data({pullUpLabel:n.find(".ui-refresh-pullup-label"),pullUpIcon:n.find(".ui-refresh-pullup-icon"),dir:a}),e.data("pullUpIcon").hide(),n.addClass(e.data("instanceId")||"ui-refresh")
},_clickAction:function(){var e=this,n=e.widget(),i=t.bind(e._eventHandler,e);n.on("click",i)},_pullUpAction:function(){var e=this,n=e.data("list"),i=t.bind(e._eventHandler,e);n.on("touchstart touchmove touchend",i),e.widget().on("click",i)},_tapHandler:function(){var t=this;if(t.data("_isOk")){var e=t.widget(),n=t.data("pullUpLabel"),i=t.data("pullUpIcon"),a=t.data("type");e.addClass("ui-refresh-loading"),i.show(),n.html(t.data("loadingText")),t.data("onReady").call(this,function(){e.removeClass("ui-refresh-loading"),i.hide(),n.html(t.data("click"==a?"clickText":"pullUpText"))
}),t.data("_isOk",!1)}},_touchStartHandler:function(t){if(t.targetTouches[0]){var e=this,n=e.data("list"),i=e.data("dir"),a=e.data("maxTop"),o=e.data("range"),r=t.targetTouches[0].pageY;("up"==i&&r>n.height()+a-o||"down"==i&&r<a+e.widget().height()+o)&&e.data("startY",r)}},_touchMoveHandler:function(t){var e=this,n=t.targetTouches[0].pageY,i=e.data("startY"),a=e.data("dir"),o=n-i;if(!(!t.targetTouches[0]||!e.data("_isOk")||!i||"up"==a&&o>0||"down"==a&&0>o)){var r=e.data("pullUpLabel");e.data("range"),e.data("maxTop"),Math.abs(o)<e.data("maxHeight")&&!e.data("refreshing")&&(r.html(e.data("pullReleaseText")),e.data("refreshing",!0)),e.data("allMoveY",o)
}},_touchEndHandler:function(){var t=this,e=t.widget(),n=t.data("pullUpIcon"),i=t.data("pullUpLabel");t.data("refreshing")&&(e.addClass("ui-refresh-loading"),n.show(),i.html(t.data("loadingText")),t.data("onReady").call(this,function(){n.hide(),e.removeClass("ui-refresh-loading"),i.html(t.data("pullUpText"))}),t.data({refreshing:!1,_isOk:!1})),t.data("startY",0)},setStatus:function(t){var e=this;return e.data("_isOk",t?!0:!1),e},hide:function(t){var e=this,n=e.widget(),i=t?!0:!1;return e.setStatus(i),e.data("isShow")&&(e.data("isShow",!1),n.hide()),e
},show:function(t){var n=this,i=n.widget(),a=t||t==e?!0:!1;n.setStatus(a),n.data("isShow")||(n.data("isShow",!0),i.show())},setLoadEndText:function(t,e){var n=this,i=n.data("pullUpLabel"),a=n.data("pullUpIcon"),o=n.data("click"==n.data("type")?"clickText":"pullUpText"),r=t?t:o,s=e?!0:!1;i.html(r),a&&a.hide(),n.setStatus(s)},_eventHandler:function(e){var n=this;switch(e.type){case"click":n._tapHandler(e);break;case"touchstart":n._touchStartHandler(e);break;case"touchmove":n._touchMoveHandler(e),3==e.target.nodeType&&t.os.ios&&n._touchEndHandler(e),t.os.android&&n.data("touchMoveTimer",setTimeout(function(){n._touchEndHandler()
},1e3));break;case"touchend":n.data("touchEndTimer",setTimeout(function(){n._touchEndHandler(e)},0))}},destroy:function(){var t=this,e=t.data("touchMoveTimer"),n=t.data("touchEndTimer");t.widget().off("click"),t.data("list").off("touchstart touchmove touchend"),e&&clearTimeout(e),n&&clearTimeout(n),t._super()}})}(Zepto),!function(t){t.ui.create("vs_toolbar",{_data:{titleText:"",isShow:!0},_create:function(){var t=this,e=t.widget(),n=e.find(".ui-toolbar-btn");t.data("buttons",n),t.trigger("create")
},_init:function(){for(var e=this,n=e.data("buttons"),i=0,a=n.length;a>i;i++)!function(){var e=t(n[i]);e.on("touchend",function(){e.toggleClass("press"),t.later(function(){e.toggleClass("press")},300)})}();e.trigger("init")},show:function(){var t=this,e=t.widget();return t.data("isShow")||(t.trigger("beforeshow"),t.data("isShow",!0),e.show(),t.trigger("aftershow")),t},hide:function(){var t=this,e=t.widget();return t.data("isShow")&&(t.data("isShow",!1),t.trigger("beforehide"),e.hide(),t.trigger("afterhide")),t
},toggle:function(){var t=this;return t.widget(),t.data("isShow")?t.hide():t.show(),t},destroy:function(){var t=this;t.widget().off(),t._super()}}).attach("control.fix")}(Zepto),!function(t){t.ui.create("quickdelete",{_data:{box:20,offset:{x:0,y:0}},_create:function(){var e=this,n=e.data("input",t(e.data("container"))),i=+new Date,a="ui-input-mask-"+i,o="ui-quickdelete-delete-"+i,r=n.parent(),s=t('<div id="'+o+'" class="ui-quickdelete-button"></div>').css({height:e.data("box"),width:e.data("box")});
t.os.android&&t.os.android&&2.1==parseFloat(t.os.version).toFixed(1)&&s.css("-webkit-background-size","20px 20px"),"ui-input-mask"!=r.attr("class")&&(r=t('<div id="'+a+'" class="ui-input-mask"></div>').appendTo(n.parent())),e.widget(r.append(n).append(e.data("deleteElem",s)).css("height",n.height())),e._initButtonOffset().trigger("create")},_init:function(){var e=this,n=e.data("input"),i=t.bind(e._eventHandler,e);n.on("focus input blur",i),e.data("deleteElem").on("touchstart",i),e.on("destroy",function(){n.off("focus input blur",i),e.data("deleteElem").off("touchstart",i),i=t.fn.emptyFn
}),e.trigger("init")},_show:function(){return this.data("deleteElem").css("visibility","visible"),this},_hide:function(){return this.data("deleteElem").css("visibility","hidden"),this},_eventHandler:function(e){var n=this,i=e.type,a=e.target,o=n.data("input");switch(i){case"focus":case"input":t.trim(o.val())?n._show():n._hide();break;case"mousedown":case"touchstart":a==n.data("deleteElem").get(0)&&(e.preventDefault(),e.formDelete=!0,o.val(""),n._hide().trigger("delete"),o.get(0).focus());break;case"blur":n._hide()
}},_initButtonOffset:function(){var t=this,e=t.data("input"),n=t.data("box"),i=t.widget().offset(),a=t.data("offset"),o=(a.x||0,a.y||0);return Math.round((i.height-2*o-n)/2),t.data("deleteElem").css({top:14,right:85}),e.css({position:"absolute",top:4,left:10,width:"auto",right:120}),t}}),t(document).on("pageInit",function(){t("[data-widget=quickdelete]").each(function(e,n){var i=t(n),a=i.data("quickdelete-size"),o=i.data("quickdelete-offsetx"),r=i.data("quickdelete-offsety");t.ui.quickdelete({container:n,size:parseInt(a,10)||void 0,offset:{x:parseInt(o,10)||void 0,y:parseInt(r,10)||void 0}})
})})}(Zepto),!function(t,e){t.ui.create("suggestion",{_data:{listCount:50,isCache:!0,isStorage:!0,minChars:0,maxChars:1e3,offset:{x:0,y:0,w:0},confirmClearHistory:!0},_create:function(){var e=this,n=+new Date,i="ui-input-mask-"+n,a=e.data("id","ui-suggestion-"+t.guid()),o=e.data("input",t(e.data("container"))).attr("autocomplete","off"),r=o.parent();e.data("inputWidth",o.get(0).offsetWidth),e.data("cacheData",{}),"ui-input-mask"!=r.attr("class")&&(r=t('<div id="'+i+'" class="ui-input-mask"></div>').appendTo(o.parent()).append(o)),e.data("maskElem",r),e.widget(t('<div id="'+a+'" class="ui-suggestion"><div class="ui-suggestion-content"><div class="ui-suggestion-scroller"></div></div><div class="ui-suggestion-button"></div></div>').appendTo(r)),e._initSuggestionOffset().trigger("create")
},_init:function(){var e=this,n=e.data("input"),i=t.bind(e._eventHandler,e);e.widget().on("touchstart",i),n.on("focus input",i).parent().on("touchstart",i),t(window).on("ortchange",i),e.data("autoClose")&&t(document).on("tap",i),e.on("destroy",function(){t(document).off("tap",i),t(window).off("ortchange",i)}),e.trigger("init")},_initSuggestionOffset:function(){var t=this,e=t.widget(),n=t.data("input"),i=t.data("offset"),a=2*parseInt(e.css("border-left-width")||0);return t.data("pos",n.height()+(i.y||0)),t.data("realWidth",(t.data("width")||n.width())-a),e.css({position:"absolute",left:i.x||0}),t
},_setSize:function(){var t=this;return t.data("realWidth"),t.data("input").parent().width()-t.data("inputWidth"),t},_posAdapt:function(e){var n=this;return e?n._setPos().data("timeId",t.later(function(){n._setPos()},200,!0)):clearInterval(n.data("timeId")),n},_setPos:function(){var e=this,n=e.widget(),i=e.data("input"),a=parseFloat(n.height()),o=e.data("offset"),r=parseFloat(e.data("pos")),s=i.offset(!0).top,c=t(window).height()-i.offset(!0).bottom;return e.data("posAdapt")&&s>c?n.css("top",-a-(o.y||0)+"px"):n.css("top",r),e
},_change:function(t){var e=this,n=e._cacheData(t),i=e.data("isCache");return e.data("source"),n&&i?e._render(t,n):e._sendRequest(t)},_eventHandler:function(t){var e=this,n=t.type,i=t.target,a=e.data("maskElem").get(0);switch(n){case"focus":e._setSize()._showList()._setPos().trigger("open");break;case"touchstart":case"mousedown":if(!t.formDelete)break;t.preventDefault();case"input":e._showList();break;case"ortchange":e._setSize()._setPos();break;case"click":case"tap":16&a.compareDocumentPosition(i)||e.hide()
}},_showList:function(){var t=this,e=t.getValue(),n=t._localStorage();return e.length<parseFloat(t.data("minChars"))||e.length>parseFloat(t.data("maxChars"))?t.hide():e?t._change(e):n?t._render(null,{s:n.split(",")}):t.hide()},_bindSuggestionListEvent:function(){var t=this;return t.widget().find(".ui-suggestion-result").on("click",function(){t._select(this)._submit()}).highlight("ui-suggestion-result-highlight"),t},_bindCloseEvent:function(){var e=this;return t(".ui-suggestion-button span:first-child").on("click",function(){t.later(function(){e.clearHistory()
},t.os.android?200:0)}),t(".ui-suggestion-button span:last-child").on("click",function(){e.hide().leaveInput().trigger("close")}),e},_sendRequest:function(e){var n=this,i=n.data("source"),a=n.data("param"),o="suggestion_"+ +new Date,r=n.data("sendRequest");return t.isFunction(r)?r(e,function(t){n._render(e,t)._cacheData(e,t)}):e&&(i+=(-1===i.indexOf("?")?"?":"")+"&wd="+encodeURIComponent(e),-1===i.indexOf("&cb=")&&(i+="&cb="+o),a&&(i+="&"+a),window[o]=function(a){n._render(e,a)._cacheData(e,a),t('[src="'+i+'"]').remove(),delete window[o]
},t.ajaxJSONP({url:i,dataType:"json"})),n},getValue:function(){return t.trim(this.data("input").val())},_render:function(t,e){var n,i=this,a=i.widget(),o=a.find(".ui-suggestion-content"),r=a.find(".ui-suggestion-button"),s=i.data("renderList"),c=i.data("renderEvent"),d='<span style="display:none;"></span><span>关闭</span>';if(null===t&&(d="<span>清除历史记录</span><span>关闭</span>"),n=s?s.apply(i,[t,e]):i._renderList(t,e)){o.find("*").off(),o.find(".ui-suggestion-scroller").html(n),r.find("*").off(),r.html(d),c?c.apply(i):i._bindSuggestionListEvent(),+e.s.length>=2?o.css("height",i.data("height")||80):o.css("height",40),i._bindCloseEvent()._show();
var l=i.data("iScroll")||i.data("iScroll",new iScroll(o.get(0),{topOffset:0,hScroll:!1}));l.scrollTo(0,0),l.refresh()}else i.hide();return i},_buildHTML:function(t){var e=t.join('</div></li><li><div class="ui-suggestion-result">');return'<ul><li><div class="ui-suggestion-result">'+e+"</div></li></ul>"},_renderList:function(e,n){var i=this,a=(i.widget(),i.data("listCount")),o=[],r=n.s;return n&&r&&r.length?(r=r.slice(0,a),t.each(r,function(n,i){t.trim(i)&&o.push(""!=e?i.replace(e,"<span>"+e+"</span>"):i)
}),i._buildHTML(o)):void i.hide()},_submit:function(){var t=this,e=t.data("input").val();return t.trigger("submit"),t.data("onsubmit")||t._callbacks&&t._callbacks.submit||(window.location="http://www.baidu.com/s?wd="+encodeURIComponent(e)),t},_select:function(t){var e=this,n=t.textContent;return e.data("input").val(n),e.data("isStorage")&&e._localStorage(n),e.trigger("select",t).hide()},_cacheData:function(t,n){var i=this;return n!==e?i.data("cacheData")[t]=n:i.data("cacheData")[t]},_localStorage:function(n){var i=this,a=i.data("shareName"),o=i.data("isSharing")?a?a+"-SUG-Sharing-History":"SUG-Sharing-History":i.data("id");
if(null===n)window.localStorage[o]="";else if(n!==e){var r=window.localStorage[o],s=r?r.split(","):[];if(-1!=t.inArray(n,s))return;s.unshift(n),window.localStorage[o]=s.join(",")}return window.localStorage[o]},_show:function(){var t=this;return t.data("hideTimer")&&(clearTimeout(t.data("hideTimer")),t.data("hideTimer",null)),t.widget().css("display","block"),t.data("posAdapt")&&t._posAdapt(1),t.trigger("show")},hide:function(){var e=this;return e.data("hideTimer",t.later(function(){e.widget().css("display","none"),e.data("hideTimer",null)
},200)),e._posAdapt(0).trigger("hide")},clearHistory:function(){var t=this,e=function(){t._localStorage(null),t.hide()};t.data("confirmClearHistory")?window.confirm("清除全部查询历史记录？")&&e():e()},history:function(t){return this._localStorage(t)},focusInput:function(){return this.data("input").get(0).focus(),this},leaveInput:function(){return this.data("input").get(0).blur(),this},destroy:function(){var t=this,e=t.data("maskElem");clearTimeout(t.data("timeId")),clearTimeout(t.data("resId")),clearTimeout(t.data("hideTimer")),e.find("*").off(),t.data("iScroll")&&t.data("iScroll").destroy(),t._super(),e.off().remove()
}}),t(document).on("pageInit",function(){t("[data-widget=suggestion]").each(function(e,n){var i=t(n),a=i.attr("data-source"),o=i.attr("data-listCount");t.ui.suggestion({container:n,source:a,listCount:o})})})}(Zepto),!function(t,e){t.ui.create("navigator",{_data:{container:"",defTab:0,isSwipe:!0,onverticalswipe:function(){},ontabselect:function(){}},_create:function(){var e=this,n=e.data("content"),i=e.data("fixContent");t.isArray(n)?(e._createNavUI(),i&&t.isArray(n)?e._createFixTab():e._createRenderFixTab()):(e._createRenderNavUI(),i&&t.isArray(n)?e._createFixTab():e._createRenderFixTab()),e.trigger("create")
},_init:function(){var n=this,i=n.widget(),a=n.data("navList"),o=n.data("listWrap"),r=n.data("fixElem"),s=n.data("defTab"),c=n.data("tabNum"),d=[],l=t.bind(n._eventHandler,n),u="ortchange";n.data("fixNum")&&r&&r.each(function(t){this.index=t+c}),a.each(function(t){this.index=t,d[t]=t?d[t-1]+parseInt(this.offsetWidth):parseInt(this.offsetWidth)}),n.data("lastTabIndex",-1),n.data("tabWidthSumArr",d),o.css("width",d[c-1]+"px"),n._loaded(),n.data("wrapOffsetWidth",n.data("myScroll").scrollerW-d[c-1]),n.data("defTab")!=e&&(n.data("isDefTab",!0),n.switchTo(parseInt(s))),r&&r.on("tap",l),i.on("touchmove",l),t(window).on(u,l),n.on("destroy",function(){r&&r.off("click tap",l),i.off("touchmove",l),t(window).off(u,l)
}),n.trigger("init")},_createNavUI:function(){for(var e,n,i,a=this,o=a.widget(),r=t(a.data("container")||document.body)[0],s=a.data("content"),c=s.length,d=a.data("instanceId"),l=[],u=[],h=0;c>h;h++)l[h]="<li><a href='javascript:;'>"+s[h].text+"</a></li>";i=t("<div class='ui-navigator-wrap'></div>"),n=t("<ul class='ui-navigator-list clearfix'></ul>"),e=t(l.join("")),i.append(n.prepend(e)),o?(o.append(i),o.parent().length?r!==document.body&&o.appendTo(r):o.appendTo(r)):o=a.widget(t("<div></div>").append(i)).appendTo(r),a.data({tabNum:c,screenWrap:i,listWrap:n,navList:e}),t.each(s,function(t,e){u.push(e.url)
}),a.data("tabHref",u),o.addClass(d||"ui-navigator")},_createRenderNavUI:function(){var e=this,n=e.widget(),i=e.data("instanceId"),a=[];!n&&(n=e.widget(t(e.data("content")).parent())),e.data({screenWrap:n.find(".ui-navigator-wrap"),listWrap:n.find(".ui-navigator-list"),navList:n.find(".ui-navigator-list li")}),t.each(e.data("navList"),function(e,n){a.push(t(n).find("a")[0].href)}),e.data({tabNum:e.data("navList").length,tabHref:a}),n.addClass(i||"ui-navigator")},_createFixTab:function(){for(var e=this,n=e.widget(),i=e.data("fixContent"),a=[],o=0;o<i.length;o++){var r=t("<div class='ui-navigator-fix'><a href='"+i[o].url+"'>"+i[o].text+"</a></div>");
"right"==i[o].pos?n.append(r):n.prepend(r)}t.each(i,function(t,e){a.push(e.url)}),e.data({fixTabHref:a,fixNum:i.length,fixElem:n.find(".ui-navigator-fix")})},_createRenderFixTab:function(){var e=this,n=e.widget(),i=n.find(e.data("fixContent")),a=[];t.each(i,function(e,n){a.push(t(n).find("a")[0].href)}),e.data({fixNum:i.length,fixElem:i,fixTabHref:a})},switchTo:function(e){var n,i=this,a=i.data("tabNum"),o=parseInt(e),r=i.data("fixElem"),s=i.data("navList"),c=i.data("myScroll"),d=i.data("lastTabIndex"),l=i.data("tabHref"),u=i.data("fixTabHref"),h="";
if(o>=a){if(n=t(r[o-a]).children("a")[0],d==o)return n.href="javascript:;",i;h=u[o-a]}else{if(n=t(s[o]).children("a")[0],d==o)return n.href="javascript:;",i;h=l[o]}if(-1!=h.indexOf("#")||-1==d)n.href=h;else if(!/javascript/.test(h))return location.href=h,i;return o>=a?t(r[o-a]).addClass("fix-cur"):(t(s[o]).addClass("cur"),i.data("isSwipe")&&c.hScroll&&i._swipeNextPre(o,i._screenPos(o))),d>=a?t(r[d-a]).removeClass("fix-cur"):d>=0&&t(s[d]).removeClass("cur"),i.data("lastTabIndex",o),i.trigger("tabselect"),i
},getCurTab:function(){var e=this,n=e.data("lastTabIndex"),i=e.data("content"),a=e.data("fixContent"),o=e.data("tabNum"),r=[],s=null;return t.isArray(i)?(r=n>=o?a[n-o]:i[n],s={text:r.text,url:r.url}):(r=n>=o?e.data("fixElem")[n-o]:e.data("navList")[n],s={text:t(r).find("a").html(),url:t(r).find("a")[0].href}),{index:n,info:s}},_switchEventHandle:function(n){var i=this,a="LI"==n.target.tagName?t(n.target)[0]:t(n.target).parents("li").get(0)||t(n.target).parents("div").get(0);a&&a.index!=e&&i.switchTo(a.index)
},_loaded:function(){var e=this,n=e.data("screenWrap")[0],i=e.data("isSwipe")?!0:!1,a={};a=new iScroll(n,{hScroll:i,vScroll:!1,hScrollbar:!1,vScrollbar:!1,onScrollMove:function(){e.data("scrollTimer",setTimeout(t.bind(e._setShadow,e),1))},onScrollEnd:function(t){this.absDistY>this.absDistX&&e.trigger("verticalswipe",t)},onTouchEnd:function(t){this.moved||this.absDistY||this.isStopScrollAction||e._switchEventHandle(t)}}),e.data("myScroll",a)},_setShadow:function(){var t=this,e=t.data("screenWrap"),n=t.data("myScroll"),i=Math.abs(n.maxScrollX);
n.x<0?(e.addClass("ui-navigator-shadowall"),Math.abs(n.x)>=i&&(e.removeClass("ui-navigator-shadowall"),e.addClass("ui-navigator-shadowleft"),e.removeClass("ui-navigator-shadowright"))):(e.removeClass("ui-navigator-shadowall"),e.removeClass("ui-navigator-shadowleft"),e.addClass("ui-navigator-shadowright"))},_touchMoveHandle:function(t){t.preventDefault()},_swipeNextPre:function(e,n){var i=this,a=0,o=i.data("tabNum"),r=i.data("navList"),s=i.data("myScroll"),c=i.data("isDefTab"),d=s.x||0;switch(n){case"defTab":a=i.data("defTabMoveX")||0,s.scrollTo(a,0,400),c&&(i.data("isDefTab",!1),i.data("defTabMoved",!0));
break;case 0:a=0,s.scrollTo(a,0,400),c&&(i.data("isDefTab",!1),i.data("defTabMoved",!0));break;case o-1:a=s.wrapperW-s.scrollerW,s.scrollTo(a,0,400),c&&(i.data("isDefTab",!1),i.data("defTabMoved",!0));break;case"first":if(1==e&&!d)return;a=d+parseInt(r[e-1].offsetWidth),s.scrollTo(a,0,400);break;case"last":if(e==o-2&&Math.abs(d)==Math.abs(s.maxScrollX))return;a=d-parseInt(r[e-1].offsetWidth),s.scrollTo(a,0,400);break;case"middle":}i.data("isDefTab",!1),i.data("nextPreTimer",setTimeout(t.bind(i._setShadow,i),1))
},_screenPos:function(t){var e=this,n=e.data("tabNum")-1;if(!t||t==n)return t;var i=e.data("navList"),a=e.data("tabWidthSumArr"),o=Math.abs(e.data("myScroll").x)||0,r=i[0].offsetLeft-e.data("screenWrap")[0].offsetLeft,s=a[t]+r-o,c=a[t-1]+r-o,d=a[t+1]+r-o,l=e.data("myScroll").wrapperW,u=parseInt(i[t].offsetWidth),h=parseInt(i[t-1].offsetWidth),p="middle";return e.data("isDefTab")?(p="defTab",e.data("defTabMoveX",l-s),p):p=h>c&&d>l?"middle":u>=s||h>c?"first":s>=l||d>l?"last":"middle"},_orientationEvent:function(){var t=this,e=t.data("myScroll"),n=t.data("wrapOffsetWidth"),i=t.data("defTab"),a=t.data("navList"),o=a[0].offsetLeft-t.data("screenWrap")[0].offsetLeft;
e.refresh(),t.data("isSwipe")||t.data("listWrap").css("width",e.wrapperW-n+"px"),!t.data("isDefTab")&&t.data("defTabMoved")&&(e.scrollTo(e.wrapperW-t.data("tabWidthSumArr")[i]-o,0,400),t.data("defTabMoved",!1))},_eventHandler:function(t){var e=this;switch(t.type){case"click":case"tap":e._switchEventHandle(t);break;case"touchmove":e._touchMoveHandle(t);break;case"ortchange":e._orientationEvent(t)}},destroy:function(){var t=this,e=t.data("fixElem"),n=t.data("scrollTimer"),i=t.data("nextPreTimer"),a=t.data("orientTimer");
e&&e.remove(),n&&clearTimeout(n),i&&clearTimeout(i),a&&clearTimeout(a),t.data("myScroll").destroy(),t._super()}}).attach("control.fix")}(Zepto),!function(t){function e(e){var n=this,i={isFollow:!1,animTime:500,curIndex:0,_wrapLeftIndex:0,loop:0,loopDir:1,pages:[],lazyLoad:!1,beforechange:function(){},afterchange:function(){}};return n.options=t.extend(i,e),n.init(),n}e.prototype={init:function(){var e=this;e.$el=t(e.options.$el),e.options._lazyLoad=!e.options.loop&&e.options.lazyLoad,e._wrapLeftIndex=e.options._wrapLeftIndex,e.curIndex=e.options.curIndex,e.options.beforechange(e.curIndex),e._initNodes(),e.options.afterchange(e.curIndex);
var n=e.options.loop;e.touchEnabled=!0,e.options.isFollow?e.initTouchFollow():e.initTouch();var i,a;if(e.$container[0].addEventListener("webkitTransitionEnd",e,!1),e._resizeListener=i=e.delay(function(){e.$el[0].offsetHeight&&t.later(function(){e.refreshPos(),n&&e.startAutoLoop()},500)},200),addEventListener("onorientationchange"in window?"orientationchange":"resize",i),e.options.loop){var o,r=e.options.loopDir<0?"toLeft":"toRight",s=e.touchEv;e._bodyEventListener=a=function(t){e[(s.START_EV===t.type?"stop":"start")+"AutoLoop"]()
},t(window).on(s.START_EV+" "+s.END_EV,a),e.stopAutoLoop=function(){return o&&(clearTimeout(o),o=null),e},e.startAutoLoop=function(){return e.stopAutoLoop(),o=setTimeout(function(){o=null,e.$el[0].offsetHeight&&e[r]()},e.options.loop),e},e.startAutoLoop()}return e},_initNodes:function(){var e,n,i,a=this,o=0,r=a._contentWidth=a.options.width||a.$el[0].clientWidth||t(window).width(),s=a,c=/<\//g,d=s.options._lazyLoad,l=s.curIndex,u=a.$el.html();if(!u.trim())for(var h=0;h<a.options.pages.length;h++)u+="<div></div>";
u=u.replace(c,function(t){return(d&&o!==l?"":s.getPage(o++))+t}),a.$el.html('<div  style="display: -webkit-box;-webkit-transform: translate3d('+l+"px, 0px, 0px);-webkit-user-select: none;-webkit-transition: -webkit-transform "+a.options.animTime+'ms cubic-bezier(0, 0, 0.25, 1)">'+u+"</div>"),a.$container=a.$el.children(),e=a.nodes=a.$container.children(),a.maxIndex=(n=a.nodesLength=e.length)-1;var p=Math.ceil(n/2),f=s._nodes=[];return e.forEach(function(t,e){i=p>e?e:-(n-e),f.push({node:t,left:i,index:e}),t.style.cssText+=";-webkit-transform: translate(-"+e+"00%, 0) translate3d("+i*r+"px, 0px, 0px);"
}),f.sort(function(t,e){return t.left-e.left}),a.curIndex=0,a.move(l,0),a},refreshPos:function(){var t=this._contentWidth=this.$el[0].clientWidth,e=this;return this.setNodeLeft(this.$container[0],this._wrapLeftIndex*t),this._nodes.forEach(function(n){e.setNodeLeft(n.node,n.left*t)}),this},setNodeLeft:function(t,e){var n=t.style;return n.cssText=n.cssText.replace(/translate3d\(([-\d]+)px/g,"translate3d("+e+"px"),this},_setNodesTranslate:function(t){var e,n,i,a,o=this._nodes,r=this._contentWidth,s=this.nodesLength-1;
return this.curIndex,0!=t?(0>t?(e="unshift",n="pop",i=o[0].left-1):(e="push",n="shift",i=o[s].left+1),a=o[n](),a.left=i,o[e](a),this.setNodeLeft(a.node,i*r),this):void 0},toLeft:function(){return this.move(this.curIndex-1)},toRight:function(){return this.move(this.curIndex+1)},toCurrent:function(){return this.move(this.curIndex)},getPage:function(e){var n=this.options.pages[e],i=t.isFunction(n)?n():n instanceof Element?n.outerHTML:n;return i},handleEvent:function(t){"webkitTransitionEnd"===t.type&&(this.options.afterchange(this.curIndex),this.touchEnabled=!0,this.options.loop&&this.startAutoLoop())
},move:function(e,n){var i,a=this._wrapLeftIndex=this._wrapLeftIndex+(this.curIndex-e),o=this,i=0>e?this.maxIndex:e>this.maxIndex?0:e,r=this.curIndex-e,s=r>0?-1:1,o=this;for(r&&(o.options._lazyLoad&&(curpage=o.nodes[i],!curpage.firstElementChild&&(curpage.innerHTML=o.getPage(i))),o.curIndex=i,o.options.beforechange(i));r;)r+=s,o._setNodesTranslate(s);return this.setAnimTime(n).setNodeLeft(this.$container[0],a*this._contentWidth),t.later(function(){o.setAnimTime(0)}),this},setAnimTime:function(t){return t=void 0===t?this.options.animTime:t,this.$container.css("-webkit-transition","-webkit-transform "+t+"ms cubic-bezier(0, 0, 0.25, 1)"),this
},delay:function(t,e){var n,i,a=function(){clearTimeout(n),i?n=setTimeout(a,e):(i=!0,t(),setTimeout(function(){i=!1},e))};return a},touchEv:function(){var t=/hp-tablet/gi.test(navigator.appVersion),e="ontouchstart"in window&&!t;return{hasTouch:e,START_EV:e?"touchstart":"mousedown",MOVE_EV:e?"touchmove":"mousemove",END_EV:e?"touchend":"mouseup"}}(),initTouch:function(){var e,n={},i=this,a=this.touchEv;return this.$el.on(a.START_EV,function(t){i.touchEnabled&&t.touches&&1===t.touches.length&&(n.x1=t.touches[0].clientX,n.y1=t.touches[0].clientY,e=setTimeout(function(){e=null
},800))}).on(a.MOVE_EV,function(t){!i.touchEnabled||!t.touches||i.maxIndex<=0||e&&(n.x2=t.touches[0].clientX,n.y2=t.touches[0].clientY,dir=i.swipeDirection(n.x1,n.x2,n.y1,n.y2),("Left"==dir||"Right"==dir)&&t.preventDefault())}),i._touchEndListener=function(){i.touchEnabled&&(e&&n.x2&&Math.abs(n.x1-n.x2)>5&&(i.touchEnabled=!1,"Left"==dir?i.toRight():"Right"==dir?i.toLeft():i.touchEnabled=!0),n={})},t(window).on(a.END_EV,i._touchEndListener),this},initTouchFollow:function(){var e,n,i,a=this.touchEv,o=this,r=null,s=0,c=0,d=0,l=0,u=0,h=0,p=this.$container[0];
return this.$el.on(a.START_EV,function(t){t.touches&&(o.touchEnabled||1==t.touches.length)&&(a.hasTouch||t.preventDefault(),o.setAnimTime(0),r=!0,moveRead=!1,s=t.touches[0].clientX,c=t.touches[0].clientY,u=s,n=o._wrapLeftIndex*o._contentWidth,h=0)}).on(a.MOVE_EV,function(t){if(t.touches&&r&&o.touchEnabled&&!(o.maxIndex<=0)){var i=t.touches[0].clientX,a=t.touches[0].clientY;if(moveRead)e=i-u,o.setNodeLeft(p,n+=e),h=e>0?1:-1,u=i;else{var d=Math.abs(i-s),l=Math.abs(a-c);d/l>1?(t.preventDefault(),t.stopPropagation(),a=null,moveRead=!0):l>5&&(r=!1,a=null)
}}}),o._touchEndListener=function(){r&&o.touchEnabled&&(o.touchEnabled=!1,r=!1,i=u-s,i>50?o.toLeft():-50>i?o.toRight():(o.toCurrent(),o.touchEnabled=!0),r=s=c=d=l=u=e=n=h=i=null)},t(window).on(a.END_EV,o._touchEndListener),this},swipeDirection:function(t,e,n,i){var a=Math.abs(t-e),o=Math.abs(n-i);return a>=o?t-e>0?"Left":"Right":n-i>0?"Up":"Down"},destory:function(t){var e=this;e.stopAutoLoop&&e.stopAutoLoop(),removeEventListener("onorientationchange"in window?"orientationchange":"resize",e._resizeListener),e.$container[0].removeEventListener("",e,!1),e.$el.off(),t&&e.$el.empty(),e.options.$el=null,e.options=null
}},t.fn.touchCarousel=function(t){t.$el=this;var n=new e(t);return n}}(Zepto),!function(t){var e=function(t){var e=arguments,n=t;try{n.setItem("cache","test"),n.removeItem("cache")}catch(i){try{n.clear(),n.setItem("cache","test"),n.removeItem("cache")}catch(i){n=e[1]?e.callee.apply(e,[].slice.call(e,1)):!1}}return delete e,n},n=function(){try{return e(localStorage,sessionStorage)}catch(t){return!1}}(),i=6e4,a=Date.now(),o=/^[\[{].+[\]}]$/,r=function(t){if(n){var e,o=60*i*24;if(t=t||0,(e=n.getItem("_expires"))&&e>a)return!1;
for(var r,s,c,d=n.length,l=0;d>l;l++)s=n.key(l),r=n.getItem(s),r&&-1!=r.indexOf("_expires")&&(c=r.match(/_expires":(\d+)/)[1],c>a)||n.removeItem(s);return n.setItem("_expires",o*t+a)}};r(15),addEventListener("error",function(t){console.log(t,"错误事件"),/QUOTA_EXCEEDED_ERR/i.test(t.message)&&(n.clear(),alert("您的浏览器本地数据已经到达最大，已经帮您清空..."),location.reload())},!1),t.localStorage=function(e,r,s){if(!n)return!1;if(null===e&&n.clear(),"undefined"!=typeof r)return null===r?n.removeItem(e):(isNaN(+s)||(r={value:r,_expires:a+s*i}),n.setItem(e,t.isObject(r)?JSON.stringify(r):r),r.value||r);
var c,d=null;return d=n.getItem(e),o.test(d)&&(d=JSON.parse(d),t.isObject(d)&&(c=d._expires)&&(a>c?(n.removeItem(e),d=null):d="string"==typeof(d=d.value)&&o.test(d)?JSON.parse(d):d)),d}}(Zepto),!function(t){t.ui.productlist=function(t){for(var e=[{id:"web",name:"网页",pos:{x:-1,y:0}},{id:"image",name:"图片",pos:{x:-104,y:0}},{id:"video",name:"视频",pos:{x:-154,y:0}},{id:"hao123",name:"上网导航",pos:{x:-104,y:-150}},{id:"tieba",name:"贴吧",pos:{x:-52,y:0}},{id:"zhidao",name:"知道",pos:{x:-1,y:-100}},{id:"wenku",name:"文库",pos:{x:-53,y:-100}},{id:"baike",name:"百科",pos:{x:-154,y:-50}},{id:"music",name:"音乐",pos:{x:-104,y:-50}},{id:"map",name:"地图",pos:{x:-1,y:-150}},{id:"app",name:"应用",pos:{x:-52,y:-50}},{id:"lvyou",name:"旅游",pos:{x:-103,y:-100}},{id:"fanyi",name:"翻译",pos:{x:-154,y:-150}},{id:"tuangou",name:"团购",pos:{x:-205,y:0}},{id:"tuiguang",name:"百度推广",pos:{x:-205,y:-50}}],n=["http://m.baidu.com/?bd_page_type=1&ssid=0&from=0&uid=&pu=sz%401320_2001&fr=","http://m.baidu.com/img?tn=bdidxiphone&itj=41&bd_page_type=1&ssid=0&from=0&uid=&pu=sz@1320_2001&fr=","http://m.baidu.com/video?fr=","http://m.hao123.com/?z=2&tn=baidunews","http://wapp.baidu.com/?lp=1065&amp;bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://wapiknow.baidu.com/?st=3&amp;bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://wk.baidu.com/?st=3&amp;bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://wapbaike.baidu.com/?st=3&amp;bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://mp3.baidu.com/mobile.html?bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://map.baidu.com?bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://m.baidu.com/app?bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://lvyou.baidu.com?bd_page_type=1&amp;ssid=0&amp;from=0&amp;uid=&amp;pu=sz%401320_2001&amp;fr=","http://fanyi.baidu.com/?from=xinwen","http://mtuan.baidu.com/view?z=2&from=map_webapp","http://e.baidu.com/m2/?refer=707"],i=0;i<e.length;i++)e[i].url=n[i];
for(i=0;i<e.length;i++)if(e[i].id==t){e.splice(i,1);break}return e}}(Zepto),!function(t){function e(e,i){var c=e[s],d=c&&a[c];if(void 0===i)return d||n(e);if(d){if(i in d)return d[i];var l=r(i);if(l in d)return d[l]}return o.call(t(e),i)}function n(e,n,o){var c=e[s]||(e[s]=++t.uuid),d=a[c]||(a[c]=i(e));return void 0!==n&&(d[r(n)]=o),d}function i(e){var n={};return t.each(e.attributes,function(t,e){0==e.name.indexOf("data-")&&(n[r(e.name.replace("data-",""))]=e.value)}),n}var a={},o=t.fn.data,r=t.zepto.camelize,s=t.expando="Zepto"+ +new Date;
t.fn.data=function(i,a){return void 0===a?t.isPlainObject(i)?this.each(function(e,a){t.each(i,function(t,e){n(a,t,e)})}):0==this.length?void 0:e(this[0],i):this.each(function(){n(this,i,a)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[s],i=n&&a[n];i&&t.each(e,function(){delete i[r(this)]})})}}(Zepto),function(t){var e=/^(?:body|html)$/i;t.extend(t.fn,{offsetParent:function(){return t(t.map(this,function(n){for(var i=n.offsetParent||document.body;i&&!e.test(i.nodeName)&&"static"==t(i).css("position");)i=i.offsetParent;
return i}))},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0}}),t.extend(t,{contains:function(t,e){return t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):t!==e&&t.contains(e)}})}(Zepto),function(t){t.extend(t,{toString:function(t){return Object.prototype.toString.call(t)},slice:function(t,e){return Array.prototype.slice.call(t,e||0)},later:function(t,e,n,i,a){return window["set"+(n?"Interval":"Timeout")](function(){t.apply(i,a)},e||0)
},parseTpl:function(t,e){var n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",n);return e?i(e):i},throttle:function(e,n,i){function a(){function t(){r=Date.now(),n.apply(s,d)
}function a(){o=void 0}var s=this,c=Date.now()-r,d=arguments;i&&!o&&t(),o&&clearTimeout(o),void 0===i&&c>e?t():o=setTimeout(i?a:t,void 0===i?e-c:e)}var o,r=0;return"function"!=typeof n&&(i=n,n=e,e=250),a._zid=n._zid=n._zid||t.proxy(n)._zid,a},debounce:function(e,n,i){return void 0===n?t.throttle(250,e,!1):t.throttle(e,n,void 0===i?!1:i!==!1)}}),t.each("String Boolean RegExp Number Date Object Null Undefined".split(" "),function(e,n){var i="";switch(n){case"Null":i="obj === null";break;case"Undefined":i="obj === undefined";
break;default:i="new RegExp('"+n+"]', 'i').test(Object.prototype.toString.call(obj))"}t["is"+n]=new Function("obj","return "+i)})}(Zepto),function(t){var e=navigator.userAgent,n=navigator.appVersion,i=t.browser;t.extend(t.browser,{qq:/qq/i.test(e),chrome:/chrome/i.test(e)||/CriOS/i.test(e),uc:/UC/i.test(e)||/UC/i.test(n)}),t.browser.uc=t.browser.uc||!t.browser.qq&&!t.browser.chrome&&!/safari/i.test(e);try{t.browser.version=i.uc?n.match(/UC(?:Browser)?\/([\d.]+)/)[1]:i.qq?e.match(/MQQBrowser\/([\d.]+)/)[1]:i.chrome?e.match(/(?:CriOS|Chrome)\/([\d.]+)/)[1]:i.version
}catch(a){}t.support=t.extend(t.support||{},{orientation:!(t.browser.uc||parseFloat(t.os.version)<5&&(t.browser.qq||t.browser.chrome))&&"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix})}(Zepto),function(t){function e(){t(window).on("scroll",t.debounce(80,function(){t(document).trigger("scrollStop")},!1))}function n(){t(window).off("scroll"),e()}t(document).ready(function(){var e,n,i="matchMedia"in window?function(){return window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"
}:function(){var t=document.documentElement;return t.clientWidth/Math.max(t.clientHeight,320)<1.1?"portrait":"landscape"},a=i(),o=function(o){return"orientationchange"==o.type?t(window).trigger("ortchange"):(n=20,clearInterval(e),void(e=t.later(function(){var o=i();a!==o?(a=o,clearInterval(e),t(window).trigger("ortchange")):--n&&clearInterval(e)},50,!0)))};t(window).bind(t.support.orientation?"orientationchange":"resize",t.debounce(o))}),e(),t(window).on("pageshow",function(e){e.persisted&&t(document).off("touchstart",n).one("touchstart",n)
})}(Zepto),!function(t){var e;t.fn.imglazyload=function(n){function i(i){var a,o=t(i);t.isFunction(n.startload)&&n.startload.call(o),a=t("<img />").on("load",function(){o.trigger("loadcomplete").replaceWith(a),a.off("load")}).on("error",function(){var n=t.Event("error");o.trigger(n),n.defaultPrevented||e.push(i),a.off("error").remove()}).attr("src",o.attr(n.urlName))}function a(n){var a,r,s,c;for(a=e.length;a--;)r=t(c=e[a]),s=r.offset(),d[n||"default"](s.top,s.height)&&(o.call(e,a,1),i(c))}var o=Array.prototype.splice,n=t.extend({threshold:0,container:window,urlName:"data-url",placeHolder:"",eventName:"scrollStop",startload:null,refresh:!1},n),r=t(n.container),s=r.scrollTop(),c=r.height(),d={init:function(t,e){return s>=t-n.threshold-c&&t+e>=s
},"default":function(t,e){var i=r.scrollTop(),a=r.height();return i>=t-n.threshold-a&&t+e>=i}};return e=t.slice(this).reverse(),n.refresh?this:(t(document).ready(function(){n.placeHolder&&t(e).append(n.placeHolder),a("init")}),(n.container===window?t(document):r).on(n.eventName+" ortchange",function(){a()}),this)}}(Zepto),+function(t){var e=function(e,n){this.element=t(e),this.params=t.extend({},this.getDefaults(),n||{}),this.selector=this.params.itemSelector,this.iconSelector=this.params.iconSelector,this.iconContainer=this.element.siblings(this.iconSelector),this.startX=0,this.startY=0,this.lastX=0,this.listW=this.element.width(),this.curIndex=this.params.startIndex,this.items=this.element.children(this.selector),this.len=Math.ceil(this.items.length),this.init("slider")
};e.DEFAULTS={itemSelector:".topic-gallery-item",iconSelector:".topic-gallery-icons",startIndex:0,iconCurClass:"cur",isShowIcon:!0,onItemClick:function(){},onAfterChange:function(){}},e.prototype.move=function(t){var e=this,n=this.iconContainer,i=e.params;setTimeout(function(){n.find("i").eq(t).addClass(i.iconCurClass).siblings("i").removeClass(i.iconCurClass),i.onAfterChange(t)},200)},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.init=function(){for(var e,n=this,i=this.element,a=n.selector,o=this.iconContainer,r=e=n.len;n.params.isShowIcon&&e--;)o.append("<i></i>");
o.find("i").eq(n.params.startIndex).addClass(n.params.iconCurClass),r>1?i.on("touchstart",a,t.proxy(n.touchstart,n)).on("touchmove",a,t.proxy(n.touchmove,n)).on("touchend",a,t.proxy(n.touchend,n)):i.on("click",a,t.proxy(n.itemClick,n))},e.prototype.touchstart=function(t){var e=this;e.startX=e.lastX=t.touches&&t.touches[0].clientX,e.startY=t.touches&&t.touches[0].clientY,e.curX=-e.listW*e.curIndex},e.prototype.touchmove=function(t){var e=this,n=t.changedTouches&&t.changedTouches[0].clientX,i=n-e.lastX;
Math.abs(n-e.startX)<10||(e.lastX=n,e.curX+=i,e.element.css({"-webkit-transform":"translateX("+e.curX+"px)"}),0!=i&&t.preventDefault())},e.prototype.touchend=function(t){var e=this,n=e.curIndex,i=e.len,a=t.changedTouches&&t.changedTouches[0].clientX-e.startX,o=t.changedTouches&&t.changedTouches[0].clientY-e.startY;if(0===a&&0===o)return void e.itemClick(t);a>50&&0!==n&&(e.curIndex=n-1,e.move(e.curIndex)),-50>a&&n!==i-1&&(e.curIndex=n+1,e.move(e.curIndex));var a=-e.listW*e.curIndex;e.timeout=setTimeout(function(){e.element.css({"-webkit-transform":"translateX("+a+"px)","-webkit-transition":"-webkit-transform 350ms cubic-bezier(0, 0, 0.25, 1)"})
},0)},e.prototype.itemClick=function(e){var n=this;n.params.onItemClick(t(e.target).closest(n.selector)),e.preventDefault()},e.prototype.reset=function(){var t,e=this;e.listW=e.element.width(),t=-e.listW*e.curIndex,e.element.css({"-webkit-transform":"translateX("+t+"px)"})},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.topicSlider;t.fn.topicSlider=function(n){return this.each(function(){var i=t(this),a=i.data("bs.slider"),o="object"==typeof n&&n;
a||i.data("bs.slider",a=new e(this,o)),"string"==typeof n&&a[n]()})},t.fn.topicSlider.Constructor=e,t.fn.topicSlider.noConflict=function(){return t.fn.topicSlider=n,this}}(Zepto);