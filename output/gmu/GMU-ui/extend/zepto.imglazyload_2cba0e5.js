!function(e){var r;e.fn.imglazyload=function(t){function o(o){var n,a=e(o);e.isFunction(t.startload)&&t.startload.call(a),n=e("<img />").on("load",function(){a.trigger("loadcomplete").replaceWith(n),n.off("load")}).on("error",function(){var t=e.Event("error");a.trigger(t),t.defaultPrevented||r.push(o),n.off("error").remove()}).attr("src",a.attr(t.urlName))}function n(t){var n,l,i,c;for(n=r.length;n--;)l=e(c=r[n]),i=l.offset(),d[t||"default"](i.top,i.height)&&(a.call(r,n,1),o(c))}var a=Array.prototype.splice,t=e.extend({threshold:0,container:window,urlName:"data-url",placeHolder:"",eventName:"scrollStop",startload:null,refresh:!1},t),l=e(t.container),i=l.scrollTop(),c=l.height(),d={init:function(e,r){return i>=e-t.threshold-c&&e+r>=i
},"default":function(e,r){var o=l.scrollTop(),n=l.height();return o>=e-t.threshold-n&&e+r>=o}};return r=e.slice(this).reverse(),t.refresh?this:(e(document).ready(function(){t.placeHolder&&e(r).append(t.placeHolder),n("init")}),(t.container===window?e(document):l).on(t.eventName+" ortchange",function(){n()}),this)}}(Zepto);