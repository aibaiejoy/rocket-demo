!function(o){o.extend(o.fn,{location:function(n,a,t){function c(a){var t=a.coords.longitude,c=a.coords.latitude,i="http://api.map.baidu.com/ag/coord/convert?from=2&to=4&x="+t+"&y="+c+"&callback=?";o.ajaxJSONP({url:i,success:function(o){var a=new BMap.Geocoder;a.getLocation(new BMap.Point(o.x,o.y),function(o){n&&n(o)})}})}function i(){a&&a(arguments)}o.ajaxJSONP({url:"http://api.map.baidu.com/api?v=1.4&callback=?",success:function(){window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(c,i,o.extend({enableHighAccuracy:!0},t)):a&&a("浏览器不支持html5来获取地理位置信息")
}})}})}(Zepto);