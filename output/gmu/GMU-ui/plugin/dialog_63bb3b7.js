!function(t,e){t.ui.create("dialog",{_data:{width:300,mask:!0,closeBtn:!0},_create:function(){var e=this,i=t(e.data("container")||document.body),a=(e.widget()||e.widget(t("<div></div>"))).css({width:e.data("width"),height:e.data("height")}).addClass("ui-dialog");e.data("cls")&&a.addClass(e.data("cls")),e.data("title")&&e.data("titleElem",t('<div class="ui-dialog-title"><div class="titleText">'+e.data("title")+"</div></div>")).appendTo(a),e.data("contentElem",t('<div class="ui-dialog-content"><div class="contentHtml">'+e.data("content")+"</div></div>")).appendTo(a),e.data("closeBtn")&&(e.data("titleElem")||e.data("contentElem")).append('<div class="ui-dialog-close">×</div>'),e.data("maskElem",t('<div class="ui-mask"></div>')).appendTo(i),a.appendTo(i),e.trigger("create")
},_init:function(){var e=this,i=e.widget(),a=t.bind(e._eventHandler,e);i.on("touchmove click",a),t(window).on("ortchange",a),e.data("maskElem").on("touchmove tap",a),e.on("destroy",function(){e.data("maskElem").off(),t(window).off("ortchange",a)}).trigger("init")},_eventHandler:function(t){var e=this,i=t.target;if(e.data("status"))switch(t.type){case"touchmove":t.preventDefault();break;case"tap":case"click":"ui-dialog-close"==i.className||"×"==i.nodeValue?e.hide():"ui-mask"==i.className&&e.trigger("maskClick");
break;case"ortchange":e._resize(t)}},_resize:function(){var e=this,i=e.data("maskElem"),a=document.body,s=t.browser.uc?1:0;"block"==i.css("display")&&i.css({width:a.clientWidth,height:Math.max(a.scrollHeight,a.clientHeight)-s}),e.trigger("resize")},title:function(t){var i=this.data("titleElem").find(".titleText");return t!=e&&(i.html(t),this.trigger("resize")),i.html()},content:function(t){var i=this.data("contentElem").find(".contentHtml");return t!=e&&(i.html(t),this.trigger("resize")),i.html()
},_center:function(){var e=this,i=e.widget(),a=t(window);return i.css({left:a.width()/2,top:a.height()/2+window.pageYOffset,marginTop:-i.height()/2,marginLeft:-i.width()/2}),e.on("resize",function(){t.later(function(){i.css({left:a.width()/2,top:a.height()/2+window.pageYOffset})},10)}),e},show:function(t,i){var a=this,s=a.widget(),n=document.body,d={left:t||0,top:i||0};return s.css("display","block"),a.data("mask")&&a.data("maskElem").css({display:"block",width:n.clientWidth,height:Math.max(n.scrollHeight,n.clientHeight)}),t==e?a._center():s.css(d),a
},hide:function(t){var e=this;return e.widget().css("display","none"),e.data("maskElem").css("display","none"),e.trigger("close"),t&&e.destroy(),e},close:function(){this.hide(!0)},destroy:function(){var t=this;t.data("maskElem").remove(),t._super()}}).attach("control.fix")}(Zepto);