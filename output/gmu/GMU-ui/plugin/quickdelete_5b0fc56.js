!function(t){t.ui.create("quickdelete",{_data:{size:20,offset:{x:0,y:0}},_create:function(){var e=this,i=e.data("input",t(e.data("container"))),a=+new Date,d="ui-input-mask-"+a,n="ui-quickdelete-delete-"+a,s=i.parent(),o=t('<div id="'+n+'" class="ui-quickdelete-button"></div>').css({height:e.data("size"),width:e.data("size")});t.os.android&&t.os.android&&2.1==parseFloat(t.os.version).toFixed(1)&&o.css("-webkit-background-size","20px 20px"),"ui-input-mask"!=s.attr("class")&&(s=t('<div id="'+d+'" class="ui-input-mask"></div>').appendTo(i.parent())),e.widget(s.append(i).append(e.data("deleteElem",o)).css("height",i.height())),e._initButtonOffset().trigger("create")
},_init:function(){var e=this,i=e.data("input"),a=t.bind(e._eventHandler,e);i.on("focus input blur",a),e.data("deleteElem").on("touchstart",a),e.on("destroy",function(){i.off("focus input blur",a),e.data("deleteElem").off("touchstart",a),a=t.fn.emptyFn}),e.trigger("init")},_show:function(){return this.data("deleteElem").css("visibility","visible"),this},_hide:function(){return this.data("deleteElem").css("visibility","hidden"),this},_eventHandler:function(e){var i=this,a=e.type,d=e.target,n=i.data("input");
switch(a){case"focus":case"input":t.trim(n.val())?i._show():i._hide();break;case"mousedown":case"touchstart":d==i.data("deleteElem").get(0)&&(e.preventDefault(),e.formDelete=!0,n.val(""),i._hide().trigger("delete"),n.get(0).focus());break;case"blur":i._hide()}},_initButtonOffset:function(){var t=this,e=t.data("input"),i=t.data("size"),a=t.widget().offset(),d=t.data("offset"),n=d.x||0,s=d.y||0,o=Math.round((a.height-2*s-i)/2);return t.data("deleteElem").css({padding:0>o?0:o,top:s,right:n}),e.css({position:"absolute",top:0,left:0,width:"auto",right:i+20}),t
}}),t(document).on("pageInit",function(){t("[data-widget=quickdelete]").each(function(e,i){{var a=t(i),d=a.data("quickdelete-size"),n=a.data("quickdelete-offsetx"),s=a.data("quickdelete-offsety");t.ui.quickdelete({container:i,size:parseInt(d,10)||void 0,offset:{x:parseInt(n,10)||void 0,y:parseInt(s,10)||void 0}})}})})}(Zepto);